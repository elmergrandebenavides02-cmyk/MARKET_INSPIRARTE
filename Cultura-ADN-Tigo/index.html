<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADN Tigo - Fortalecimiento Cultural</title>
    <style>
        :root {
            --tigo-azul: #00377d;
            --tigo-celeste: #00a1e1;
            --tigo-gris: #f4f4f4;
            --agilidad: #4caf50; /* Verde */
            --colaboracion: #0288d1; /* Azul */
            --enfoque: #ff7043; /* Naranja */
            --integridad: #fbc02d; /* Amarillo */
            --talento: #9c27b0; /* P√∫rpura */
            --blanco: #ffffff;
            --oro: #d4af37;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 450px;
            background: var(--blanco);
            box-shadow: 0 0 50px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        header {
            background: linear-gradient(135deg, var(--tigo-azul), var(--tigo-celeste));
            color: white;
            text-align: center;
            padding: 30px 20px;
            border-bottom: 6px solid var(--tigo-celeste);
        }

        #menu-principal { padding: 20px; }

        .grid-pasillos { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .card-menu {
            background: white; border-radius: 15px; padding: 15px;
            border: 1px solid #eee; text-align: center; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        .card-menu:active { transform: scale(0.95); }

        .btn-categoria {
            width: 100%; padding: 10px; border: none; border-radius: 10px;
            color: white; font-weight: bold; margin-bottom: 8px; font-size: 0.8rem;
        }

        /* Colores ADN Tigo */
        .color-agiles { background-color: var(--agilidad); }
        .color-colaborativos { background-color: var(--colaboracion); }
        .color-enfocados { background-color: var(--enfoque); }
        .color-integros { background-color: var(--integridad); }
        .color-talento { background-color: var(--talento); }

        .progress-container {
            width: 100%; background: #eee; height: 8px; border-radius: 10px;
            overflow: hidden; margin: 10px 0;
        }
        .progress-fill { width: 0%; height: 100%; transition: width 0.8s ease; }

        #pantalla-reto { display: none; padding: 20px; background: #fafafa; flex-grow: 1; }

        .reto-main-card {
            background: white; border-radius: 25px; padding: 25px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1); text-align: center;
        }

        .frase-quote { font-size: 1.1rem; font-style: italic; margin-bottom: 20px; min-height: 80px; display: flex; align-items: center; justify-content: center; color: #444; }

        .reto-instruccion { background: #e3f2fd; padding: 15px; border-left: 5px solid var(--tigo-celeste); text-align: left; margin-bottom: 20px; border-radius: 0 10px 10px 0; }

        .btn-principal { width: 100%; padding: 18px; border-radius: 30px; border: none; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer; background: var(--tigo-azul); }
        
        .btn-secundario { width: 100%; padding: 12px; background: none; border: 2px solid #ddd; border-radius: 30px; color: #888; margin-top: 10px; cursor: pointer; }

        .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:6000; justify-content: center; align-items: center; padding: 20px; }
        .modal-content { background:white; padding:30px; border-radius:20px; text-align:center; max-width:350px; width: 100%; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ADN TIGO</h1>
        <p>Nuestras Capacidades Organizacionales</p>
    </header>

    <div id="menu-principal">
        <div class="grid-pasillos">
            <div class="card-menu" onclick="irAReto('agilidad')">
                <div class="btn-categoria color-agiles">SOMOS √ÅGILES</div>
                <p style="font-size: 0.65rem; margin-top:-5px; font-weight:bold;">Diciendo y Haciendo</p>
                <div class="progress-container"><div id="bar-agilidad" class="progress-fill color-agiles"></div></div>
                <p style="font-size: 0.7rem; margin:0;"><span id="txt-agilidad">0</span> retos logrados</p>
            </div>
            <div class="card-menu" onclick="irAReto('colaboracion')">
                <div class="btn-categoria color-colaborativos">COLABORATIVOS</div>
                <p style="font-size: 0.65rem; margin-top:-5px; font-weight:bold;">Juanstos pa' las que sea</p>
                <div class="progress-container"><div id="bar-colaboracion" class="progress-fill color-colaborativos"></div></div>
                <p style="font-size: 0.7rem; margin:0;"><span id="txt-colaboracion">0</span> retos logrados</p>
            </div>
            <div class="card-menu" onclick="irAReto('enfoque')">
                <div class="btn-categoria color-enfocados">SOMOS ENFOCADOS</div>
                <p style="font-size: 0.65rem; margin-top:-5px; font-weight:bold;">Full Foco</p>
                <div class="progress-container"><div id="bar-enfoque" class="progress-fill color-enfocados"></div></div>
                <p style="font-size: 0.7rem; margin:0;"><span id="txt-enfoque">0</span> retos logrados</p>
            </div>
            <div class="card-menu" onclick="irAReto('integridad')">
                <div class="btn-categoria color-integros">SOMOS √çNTEGROS</div>
                <p style="font-size: 0.65rem; margin-top:-5px; font-weight:bold;">No todo se vale</p>
                <div class="progress-container"><div id="bar-integridad" class="progress-fill color-integros"></div></div>
                <p style="font-size: 0.7rem; margin:0;"><span id="txt-integridad">0</span> retos logrados</p>
            </div>
        </div>
        <div class="card-menu" onclick="irAReto('talento')" style="margin-top:15px;">
            <div class="btn-categoria color-talento">SOMOS TALENTO TIGO</div>
            <div class="progress-container"><div id="bar-talento" class="progress-fill color-talento"></div></div>
            <p style="font-size: 0.7rem; margin:0;"><span id="txt-talento">0</span> retos logrados</p>
        </div>
    </div>

    <div id="pantalla-reto">
        <div style="text-align:center; margin-bottom:15px;">
            <h2 id="titulo-capacidad" style="margin:0; color: var(--tigo-azul); font-size: 1.2rem; text-transform: uppercase;"></h2>
            <p id="subtitulo-mantra" style="font-size: 0.9rem; font-weight: bold; color: #666;"></p>
        </div>

        <div class="reto-main-card">
            <div id="frase-display" class="frase-quote">"..."</div>
            
            <div class="reto-instruccion">
                <strong style="font-size: 0.8rem; color: var(--tigo-azul);">‚ö° RETO ADN TIGO:</strong>
                <p id="reto-display" style="margin: 5px 0 0; font-size: 0.95rem;"></p>
            </div>

            <button onclick="completarReto()" class="btn-principal">¬°RETO COMPLETADO!</button>
            <button class="btn-secundario" onclick="cargarFraseAleatoria()">üîÑ Ver otra frase</button>
            <button class="btn-secundario" onclick="mostrarMenu()" style="border:none;">‚Üê Volver al ADN</button>
        </div>
    </div>
</div>

<div id="modal-exito" class="modal">
    <div class="modal-content">
        <div style="font-size: 4rem;">üöÄ</div>
        <h2>¬°Excelente!</h2>
        <p>Est√°s fortaleciendo el ADN Tigo. ¬°Sigue as√≠!</p>
        <button class="btn-principal" onclick="cerrarModal()">CONTINUAR</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="frasesDB.js"></script>
<script>
    let capacidadActual = '';
    // Cargar progreso inicial
    const progreso = JSON.parse(localStorage.getItem('progresoTigo')) || { agilidad:0, colaboracion:0, enfoque:0, integridad:0, talento:0 };

    function actualizarBarrasMenu() {
        for (let cap in progreso) {
            const porcentaje = Math.min((progreso[cap] / 21) * 100, 100);
            const barra = document.getElementById(`bar-${cap}`);
            if(barra) barra.style.width = porcentaje + '%';
            const txt = document.getElementById(`txt-${cap}`);
            if(txt) txt.innerText = progreso[cap];
        }
    }

    function irAReto(cap) {
        capacidadActual = cap;
        document.getElementById('menu-principal').style.display = 'none';
        document.getElementById('pantalla-reto').style.display = 'flex';
        
        const titulos = {
            agilidad: "Somos √Ågiles",
            colaboracion: "Somos Colaborativos",
            enfoque: "Somos Enfocados",
            integridad: "Somos √çntegros",
            talento: "Somos Talento Tigo"
        };
        const mantras = {
            agilidad: "Diciendo y Haciendo",
            colaboracion: "Juntos pa' las que sea",
            enfoque: "Full Foco",
            integridad: "No todo se vale",
            talento: "Protagonistas de nuestro desarrollo"
        };

        document.getElementById('titulo-capacidad').innerText = titulos[cap];
        document.getElementById('subtitulo-mantra').innerText = mantras[cap];
        cargarFraseAleatoria();
    }

    function cargarFraseAleatoria() {
        const lista = frasesDBCultura[capacidadActual];
        const random = lista[Math.floor(Math.random() * lista.length)];
        document.getElementById('frase-display').innerText = `"${random.frase}"`;
        document.getElementById('reto-display').innerText = random.reto;
    }

    function completarReto() {
        progreso[capacidadActual]++;
        localStorage.setItem('progresoTigo', JSON.stringify(progreso));
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        document.getElementById('modal-exito').style.display = 'flex';
    }

    function cerrarModal() {
        document.getElementById('modal-exito').style.display = 'none';
        mostrarMenu();
    }

    function mostrarMenu() {
        document.getElementById('pantalla-reto').style.display = 'none';
        document.getElementById('menu-principal').style.display = 'block';
        actualizarBarrasMenu();
    }

    window.onload = actualizarBarrasMenu;
</script>
</body>
</html>
